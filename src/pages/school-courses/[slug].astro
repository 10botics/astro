---
// Dynamic route to handle URL mapping for school courses

// Pre-import all components to avoid Unicode issues in dynamic imports
import AiGameCoding from './人工智能遊戲編程課程.astro';
import AiEnrichmentCourse from './AI藝術創作課程.astro';
import AiEnlightenment from './AI啟蒙課程.astro';
import AiDigitalAnimation from './AI數碼動畫展.astro';
import Blockchain from './Blockchain 區塊鏈課程.astro';
import CoDrone from './CoDrone無人機課程.astro';
import Delightex from './Delightex 遊戲設計課程.astro';
import DonkeyCar from './Donkey Car 無人車課程.astro';
import Dobot from './Dobot 智能機械手臂.astro';
import KSP from './ksp太空計劃課程.astro';
import LegoSpikePrime from './Lego Spike Prime 機器人技術大師班.astro';
import Minecraft from './Minecraft校園創建課程.astro';
import MinecraftCompetition2024 from '../Minecraft 校園創建計劃 2024.astro';
import MicrobitParachute from './Microbit 降落傘課程.astro';
import Procreate from './Procreate數位藝術課程.astro';
import PythonGameDev from './Python 初階遊戲編程.astro';
import RaspberryPi from './raspberry-pi編程課程.astro';
import ScratchAi from './Scratch 人工智能編程.astro';
import ScratchGameDesign from './Scratch遊戲設計課程.astro';
import SwiftPlaygrounds from './SwiftPlaygrounds編程課程.astro';
import Tello from './Tello 無人機課程.astro';
import CoralEnvironment from './珊瑚環境監測入門課程.astro';
import Unity from './Unity 課程.astro';
import NaturalBioSciences from './自然生物探究手作課程.astro';
import AppleVisionPro from './Apple Vision Pro 遊戲開發課程.astro';
import MicrobitRobotCreation from './3D Micro_bit 機械人創作課程.astro';
import AiVideoProduction from './AI影片製作課程.astro';

// Component mapping by filename
const componentMap = {
  '人工智能遊戲編程課程.astro': AiGameCoding,
  'AI藝術創作課程.astro': AiEnrichmentCourse,
  'AI啟蒙課程.astro': AiEnlightenment,
  'AI數碼動畫展.astro': AiDigitalAnimation,
  'Blockchain 區塊鏈課程.astro': Blockchain,
  'CoDrone無人機課程.astro': CoDrone,
  'Delightex 遊戲設計課程.astro': Delightex,
  'Donkey Car 無人車課程.astro': DonkeyCar,
  'Dobot 智能機械手臂.astro': Dobot,
  'ksp太空計劃課程.astro': KSP,
  'Lego Spike Prime 機器人技術大師班.astro': LegoSpikePrime,
  'Minecraft校園創建課程.astro': Minecraft,
  '../Minecraft 校園創建計劃 2024.astro': MinecraftCompetition2024,
  'Microbit 降落傘課程.astro': MicrobitParachute,
  'Procreate數位藝術課程.astro': Procreate,
  'Python 初階遊戲編程.astro': PythonGameDev,
  'raspberry-pi編程課程.astro': RaspberryPi,
  'Scratch 人工智能編程.astro': ScratchAi,
  'Scratch遊戲設計課程.astro': ScratchGameDesign,
  'SwiftPlaygrounds編程課程.astro': SwiftPlaygrounds,
  'Tello 無人機課程.astro': Tello,
  '珊瑚環境監測入門課程.astro': CoralEnvironment,
  'Unity 課程.astro': Unity,
  '自然生物探究手作課程.astro': NaturalBioSciences,
  'Apple Vision Pro 遊戲開發課程.astro': AppleVisionPro,
  '3D Micro_bit 機械人創作課程.astro': MicrobitRobotCreation,
  'AI影片製作課程.astro': AiVideoProduction
};

export async function getStaticPaths() {
  // Canonical slug to filename mapping (school-courses)
  const slugToFilenameMap = {
    'ai-game-coding': '人工智能遊戲編程課程.astro',
    'ai-enrichment-course': 'AI藝術創作課程.astro',
    'ai-enlightenment': 'AI啟蒙課程.astro',
    'ai-digital-animation-exhibition': 'AI數碼動畫展.astro',
    'blockchain': 'Blockchain 區塊鏈課程.astro',
    'codrone': 'CoDrone無人機課程.astro',
    'cospaces': 'Delightex 遊戲設計課程.astro',
    'donkey-car': 'Donkey Car 無人車課程.astro',
    'dobot': 'Dobot 智能機械手臂.astro',
    'ksp': 'ksp太空計劃課程.astro',
    'lego-spike-prime': 'Lego Spike Prime 機器人技術大師班.astro',
    'minecraft': 'Minecraft校園創建課程.astro',
    'minecraft-2024': '../Minecraft 校園創建計劃 2024.astro',
    'microbit-parachute': 'Microbit 降落傘課程.astro',
    'procreate': 'Procreate數位藝術課程.astro',
    'python-game-dev-beginner': 'Python 初階遊戲編程.astro',
    'raspberry-pi': 'raspberry-pi編程課程.astro',
    'scratch-ai-programming': 'Scratch 人工智能編程.astro',
    'scratch-game-design': 'Scratch遊戲設計課程.astro',
    'swiftplaygrounds': 'SwiftPlaygrounds編程課程.astro',
    'tello': 'Tello 無人機課程.astro',
    'coral-environment-monitoring': '珊瑚環境監測入門課程.astro',
    'unity': 'Unity 課程.astro',
    'natural-bio-sciences': '自然生物探究手作課程.astro',
    'apple-vision-pro-game-dev': 'Apple Vision Pro 遊戲開發課程.astro',
    '3d-microbit-robot-creation': '3D Micro_bit 機械人創作課程.astro',
    'ai-video-production': 'AI影片製作課程.astro'
  };
  return Object.keys(slugToFilenameMap).map(slug => ({
    params: { slug }
  }));
}

const { slug } = Astro.params;

if (!slug) {
  throw new Error('Slug is required');
}

// Get filename from canonical slug mapping
const slugToFilenameMap = {
  'ai-game-coding': '人工智能遊戲編程課程.astro',
  'ai-enrichment-course': 'AI藝術創作課程.astro',
  'ai-enlightenment': 'AI啟蒙課程.astro',
  'ai-digital-animation-exhibition': 'AI數碼動畫展.astro',
  'blockchain': 'Blockchain 區塊鏈課程.astro',
  'codrone': 'CoDrone無人機課程.astro',
  'cospaces': 'Delightex 遊戲設計課程.astro',
  'donkey-car': 'Donkey Car 無人車課程.astro',
  'dobot': 'Dobot 智能機械手臂.astro',
  'ksp': 'ksp太空計劃課程.astro',
  'lego-spike-prime': 'Lego Spike Prime 機器人技術大師班.astro',
  'minecraft': 'Minecraft校園創建課程.astro',
  'minecraft-2024': '../Minecraft 校園創建計劃 2024.astro',
  'microbit-parachute': 'Microbit 降落傘課程.astro',
  'procreate': 'Procreate數位藝術課程.astro',
  'python-game-dev-beginner': 'Python 初階遊戲編程.astro',
  'raspberry-pi': 'raspberry-pi編程課程.astro',
  'scratch-ai-programming': 'Scratch 人工智能編程.astro',
  'scratch-game-design': 'Scratch遊戲設計課程.astro',
  'swiftplaygrounds': 'SwiftPlaygrounds編程課程.astro',
  'tello': 'Tello 無人機課程.astro',
  'coral-environment-monitoring': '珊瑚環境監測入門課程.astro',
  'unity': 'Unity 課程.astro',
  'natural-bio-sciences': '自然生物探究手作課程.astro',
  'apple-vision-pro-game-dev': 'Apple Vision Pro 遊戲開發課程.astro',
  '3d-microbit-robot-creation': '3D Micro_bit 機械人創作課程.astro',
  'ai-video-production': 'AI影片製作課程.astro'
};
const filename = slugToFilenameMap[slug];

if (!filename) {
  throw new Error(`Unknown school course slug: ${slug}`);
}

// Get the pre-imported component
const SchoolCourseComponent = filename in componentMap 
  ? componentMap[filename as keyof typeof componentMap]
  : null;

if (!SchoolCourseComponent) {
  throw new Error(`Component not found for filename: ${filename}`);
}
---

<SchoolCourseComponent /> 