---
import Layout from '../../layouts/Layout.astro';
import HeroSection from '../../components/course/HeroSection.astro';
import TripleCourseContent from '../../components/course/TripleCourseContent.astro';
import QnASection from '../../components/course/QnASection.astro';
import ContactSection from '../../components/ContactSection.astro';
import GalleryCarousel from '../../components/course/GalleryCarousel.astro';
import RelatedNews from '../../components/course/RelatedNews.astro';
import RelatedCourses from '../../components/course/RelatedCourses.astro';
import ShopSection from '../../components/course/ShopSection.astro';
import { Image } from 'astro:assets';

// Import course images
import featuredImage from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1686-1024x768.jpeg';
import img1676 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1676-scaled.jpeg';
import img1671 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1671-1024x768.jpeg';
import img1639 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1639-1024x768.jpeg';
import img1437 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1437-1024x768.jpeg';
import img1506 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1506-1024x768.jpeg';
import img1592 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1592-1024x768.jpeg';
import img1754 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1754-1024x768.jpeg';
import img1685 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1685-1024x768.jpeg';
import img1499 from '../../assets/images/school-courses/珊瑚環境監測入門課程/IMG_1499-1024x741.jpeg';

// Course data
export const courseData = {
  title: "珊瑚環境監測入門課程",
  subtitle: "從生物、化學的角度探索海洋環境，學習IoT監察系統和自動化系統",
  tags: ["IoT", "Microbit", "Programming 編程", "海洋環境", "高小", "初中", "高中"],
  videoId: "your-video-id-here",
  description: "從生物化學角度探索海洋環境，學習IoT監察系統與自動化技術。結合Micro:bit編程，監控珊瑚缸環境。",
  detailedDescription: "本課程會從生物、化學的角度與同學探索海洋環境，除了了解不同海洋生物的生理結構外，還會科學的方式製作和監控一個海洋生存環境。課程會用到Microbit去設置IoT監察系統和自動化系統，配合 IoT 平台將收集到的數據整理然後上傳至雲端，再通過自動化方式全天候紀錄和管理珊瑚缸的狀況。",
  heroImage: featuredImage
};

// Cross-disciplinary learning highlights
const crossDisciplinaryLearning = [
  {
    icon: "fas fa-water",
    title: "生物科",
    description: "深入了解海洋環境的特性，如水質、溫度和光照對海洋生態系統的影響，學習各種珊瑚、魚類和其他無脊椎動物的生活習性和互動關係。"
  },
  {
    icon: "fas fa-flask",
    title: "化學科",
    description: "通過組裝魚缸的過程和測試，學生可以理解不同生物知識和氮循環各種化學性質，進行各種科學實驗及各種測試分析水質。"
  },
  {
    icon: "fas fa-microchip",
    title: "電腦科",
    description: "同學能實時監控珊瑚缸內的環境參數，通過數據分析來維持珊瑚缸的健康狀況，通過自動化系統的編寫和製作，方便照顧魚缸。"
  },
  {
    icon: "fas fa-cogs",
    title: "物理科",
    description: "學習使用各種化學試劑和儀器，如試紙和感應器，來測試和分析海水中的各項化學指標，包括鹽度、pH值、氨氮等。"
  }
];

// Course A: 珊瑚缸管理
const coralTankManagement = [
  {
    title: "魚缸系統及海水缸組裝",
    content: [
      "海洋生物的基本生存條件（溫度、鹽度、亮度、水質）",
      "魚缸系統的基本概念（過濾系統、溫度調節、燈光控制）",
      "過濾系統組裝（物理過濾物料、生物環）",
      "鹽度與滲透（擴散與滲透、水族館鹽介紹、光學鹽度計測試）",
      "蛋白質分離器介紹及校準",
      "氣泵組裝（氧氣與可溶性）",
      "溫度調節系統（暖管、冷水機、溫度計）",
      "燈光控制系統（水族燈安裝及校準）",
      "魚缸的廢物分解（氮循環、硝化細菌）"
    ]
  },
  {
    title: "水質管理與海洋環境",
    content: [
      "水質管理的基本概念",
      "水質試條介紹及使用",
      "水中的有害物質介紹（酸與鹼、重金屬、磷酸鹽、硝酸鹽、氨）",
      "TDS 水質檢測筆介紹及使用",
      "測試套件介紹及使用",
      "換水教學",
      "熱帶海水魚（對水、添加新魚、餵食）",
      "水箱維護安排"
    ]
  },
  {
    title: "魚缸維護及海洋生物",
    content: [
      "海藻處理（磁性藻類清潔器）",
      "水質測試及換水",
      "清洗過濾棉及蛋白質分離器",
      "魚缸玻璃清潔",
      "熱帶海水魚的生存條件與習性",
      "魚的結構和習性、水質控制、常見疾病",
      "珊瑚的生存條件與習性",
      "珊瑚的結構和習性、水質控制",
      "香港生態及環境保育"
    ]
  }
];

// Course B: 入門物聯網監察
const iotMonitoringBasics = [
  {
    title: "Micro:bit / ESP32 檢測魚缸及 IoT 系統的組成（上）",
    content: [
      "IoT 物聯網及 Micro:bit / ESP32 介紹",
      "Micro:bit / ESP32 基本編程教學（Hello World、OLED 顯示屏）",
      "連接 Wi-Fi 網絡及上傳數據至 ThingSpeak",
      "ThingSpeak 平台設定",
      "MATLAB 入門教程（隨機漫步）",
      "溫度傳感器編程、安裝及測試",
      "ThingSpeak 溫度儀表",
      "MATLAB 時間序列圖（資料視覺化、移動平均線）",
      "進階溫度傳感器編程教學"
    ]
  },
  {
    title: "Micro:bit / ESP32 檢測魚缸及 IoT 系統的組成（中）",
    content: [
      "燈光和珊瑚缸",
      "光強度傳感器編程、安裝及測試",
      "上傳光強度數據至 ThingSpeak",
      "噪音傳感器編程、安裝及測試",
      "上傳噪音數據至 ThingSpeak",
      "警報系統（感應器訊息整合、蜂鳴器編程）",
      "Pipedream 設定",
      "警報系統測試"
    ]
  },
  {
    title: "Micro:bit / ESP32 檢測魚缸及 IoT 系統的組成（下）",
    content: [
      "溶解性總固體 (TDS) 介紹",
      "TDS 感應器編程、安裝及測試",
      "上傳 TDS 數據至 ThingSpeak",
      "警報系統及噪音電子郵件警告",
      "Pipedream 設定及警報系統測試",
      "MATLAB 數據分析（平均數、眾數、中位數）",
      "在 Thingspeak 中檢查 3M",
      "繪製水溫分佈圖、中央極限定理",
      "四分位距 (IQR) 及箱線圖"
    ]
  }
];

// Course C: 進階物聯網監察
const iotMonitoringAdvanced = [
  {
    title: "自動補水系統",
    content: [
      "自動補水系統的基本概念",
      "魚缸水蒸發與水質",
      "引力 ATO 和電子 ATO",
      "自動補水系統組裝（水缸安裝、加入淡水）",
      "水導電感測器編程、安裝及測試",
      "警報系統測試",
      "氣泵編程、安裝及水管連接",
      "自動化系統編程及測試"
    ]
  },
  {
    title: "自動魚糧機（上）",
    content: [
      "縮時紀錄檢查",
      "魚糧成分與餵食",
      "熱帶海水魚的攝食",
      "魚飼料含量及餵食時間表",
      "過度餵食問題",
      "測試伺服馬達",
      "魚糧機組裝及編程",
      "魚糧機安裝及測試"
    ]
  },
  {
    title: "自動魚糧機（下）",
    content: [
      "餵食限制編程及測試",
      "投餵時鐘編程及測試",
      "建立時間觸發點",
      "進度條編程",
      "剩餘時間計算",
      "自動魚糧機測試",
      "課程總結及回顧"
    ]
  }
];

// Learning outcomes
const learningOutcomes = [
  {
    title: "海洋缸組裝",
    description: "掌握魚缸組裝的基本步驟和技巧，學習如何使用各種設備和工具，來創造和維持適宜的水族環境。",
    image: img1437
  },
  {
    title: "使用科學儀器",
    description: "學習使用各種化學試劑和儀器，如試紙和感應器，來測試和分析海水中的各項化學指標，包括鹽度、pH值、氨氮等",
    image: img1506
  },
  {
    title: "維護海洋缸",
    description: "探討魚缸生態系統的維護方法，學習如何管理必要的海水硬件設備，確保水生生物的健康生長。",
    image: img1592
  },
  {
    title: "Blockly程式編寫及IoT系統",
    description: "編寫簡單的程式，讀取實驗數據並進行處理和在IoT上顯示，在課程中提升編程技能。",
    image: img1754
  },
  {
    title: "學習海洋生物知識",
    description: "通過接觸各種海洋生物，了解他們的分類和特徵，學生可以認識不同類型的海洋生物在生態系統中的角色。",
    image: img1685
  },
  {
    title: "建造自動化系統",
    description: "學生將根據所學的知識，設計並建造一個小型自動化項目，例如是自動餵糧機和補水器等自動系統，了解機械工程帶來的方便及可靠性。",
    image: img1499
  }
];

// Course highlights
const courseHighlights = [
  {
    title: "海洋環境研究",
    description: "深入了解海洋環境的特性，如水質、溫度和光照對海洋生態系統的影響，學習到各種珊瑚、魚類和其他無脊椎動物的生活習性和互動關係。",
    image: img1671
  },
  {
    title: "科學測試",
    description: "通過組裝魚缸的過程和測試，學生可以理解不同生物知識和氮循環各種化學性質，學生在課程中可以進行各種科學實驗及各種測試分析水質。",
    image: img1639
  },
  {
    title: "編程監控",
    description: "同學能實時監控珊瑚缸內的環境參數，通過數據分析來維持珊瑚缸的健康狀況，通過自動化系統的編寫和製作，方便照顧魚缸。",
    image: img1754
  }
];

// FAQ data
const faqData = [
  {
    question: "這個課程適合什麼年級的學生？",
    answer: "本課程適合初中、高中和高小學生，課程內容會根據學生的程度進行調整。"
  },
  {
    question: "課程需要什麼設備？",
    answer: "如果學校支付額外費用，我們可以提供Microbit、科學實驗器材和海洋缸設備。"
  },
  {
    question: "課程時長是多少？",
    answer: "課程總共18小時，分為珊瑚缸管理（4.5小時）、入門物聯網監察（4.5小時）和進階物聯網監察（9小時），可根據學校需要調整。"
  },
  {
    question: "學生會學到什麼編程技能？",
    answer: "學生將學習Blockly編程，掌握IoT系統的應用，以及如何編寫自動化程式。"
  },
  {
    question: "課程會提供學習材料嗎？",
    answer: "是的，課程配備學習歷程冊，引導學生循序漸進地學習知識，並記錄實驗成果。"
  }
];

const { title, subtitle, tags, description, detailedDescription, heroImage } = courseData;
---

<Layout title={title} description={description}>
  <main>
    <!-- Hero Section -->
    <HeroSection 
      title={title}
      subtitle={subtitle}
      tags={tags}
      description={detailedDescription}
      heroImage={heroImage}
    />

    <!-- Course Introduction -->
    <section class="section-padding bg-gray-50">
      <div class="container-standard">
        <div class="max-w-4xl mx-auto">
          <div class="grid md:grid-cols-2 gap-8 items-center">
            <div>
              <Image 
                src={img1676} 
                alt="學習歷程冊" 
                class="rounded-lg shadow-lg"
                width={800}
                height={600}
              />
            </div>
            <div>
              <h2 class="text-3xl font-bold mb-6">學習歷程冊</h2>
              <p class="text-lg text-gray-700 leading-relaxed">
                本課程配備一份<strong>學習歷程冊</strong>，而學習歷程冊將引導學生循序漸進地學習知識，從簡單的概念過渡到實踐應用，並通過記錄來證明實驗的成果。
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Course Highlights -->
    <section class="section-padding bg-white">
      <div class="container-standard">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold mb-4">課程重點</h2>
        </div>
        <div class="grid md:grid-cols-3 gap-8">
          {courseHighlights.map((highlight) => (
            <div class="card-base card-hover">
              <Image 
                src={highlight.image} 
                alt={highlight.title}
                class="w-full h-48 object-cover"
                width={400}
                height={300}
              />
              <div class="p-6">
                <h3 class="text-xl font-bold mb-3">{highlight.title}</h3>
                <p class="text-gray-700">{highlight.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Learning Outcomes -->
    <section class="section-padding bg-gray-50">
      <div class="container-standard">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold mb-4">目標成果</h2>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
          {learningOutcomes.map((outcome) => (
            <div class="card-base card-hover">
              <Image 
                src={outcome.image} 
                alt={outcome.title}
                class="w-full h-48 object-cover"
                width={400}
                height={300}
              />
              <div class="p-6">
                <h3 class="text-xl font-bold mb-3">{outcome.title}</h3>
                <p class="text-gray-700">{outcome.description}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- Course Content Section -->
    <TripleCourseContent 
      firstTitle="珊瑚缸管理"
      secondTitle="入門物聯網監察"
      thirdTitle="進階物聯網監察"
      firstItems={coralTankManagement}
      secondItems={iotMonitoringBasics}
      thirdItems={iotMonitoringAdvanced}
      firstHours="4.5 小時"
      secondHours="4.5 小時"
      thirdHours="4.5 小時"
    />

    <!-- Cross-disciplinary Learning -->
    <section class="section-padding bg-white">
      <div class="container-standard">
        <div class="text-center mb-12">
          <h2 class="text-4xl font-bold mb-4">跨學科學習重點</h2>
        </div>
        <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
          {crossDisciplinaryLearning.map((item) => (
            <div class="card-base card-hover text-center p-6">
              <div class="text-4xl text-brand-cyan-600 mb-4">
                <i class={item.icon}></i>
              </div>
              <h3 class="text-xl font-bold mb-3">{item.title}</h3>
              <p class="text-gray-700">{item.description}</p>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <QnASection faqs={faqData} />

    <!-- Shop Section -->
    <ShopSection 
      title="購買 Micro:bit 珊瑚水質監察套裝"
      description="獲取 Micro:bit 珊瑚水質監察套裝，開始你的環境監測學習之旅"
      shopLink="https://shop.10botics.com/Microbit-Shan-Hu-Shui-Zhi-Jian-Cha-c185813833"
      buttonText="購買珊瑚水質監察套裝"
      imageSrc={featuredImage.src}
      imageAlt="Micro:bit 珊瑚水質監察套裝"
    />

    <!-- Related Courses Section -->
    <RelatedCourses courseTags={courseData.tags} courseTitle={courseData.title} currentCourseSlug="coral-environment-monitoring" context="course" />

    <!-- Related News Section -->
    <RelatedNews courseTags={courseData.tags} courseTitle={courseData.title} />

    <!-- Course Gallery -->
    <section class="section-padding bg-gray-50">
      <div class="container-standard">
        <GalleryCarousel 
          title="課程實況照片"
          images={[
            featuredImage,
            img1676,
            img1671,
            img1639,
            img1437,
            img1506,
            img1592,
            img1754,
            img1685,
            img1499
          ]}
          intervalMs={4500}
        />
      </div>
    </section>

    <!-- Contact Form -->
    <ContactSection subtitle="想了解更多關於珊瑚環境監測入門課程的資訊？歡迎聯絡我們，我們會為您提供詳細的課程安排和報名資訊。" />
  </main>
</Layout> 
