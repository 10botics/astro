---
// Dynamic route to handle URL mapping for funding application pages
import { getStaticPathsForFolder, getComponentForSlug } from '../../utils/urlAliases.js';

// Pre-import all components to avoid Unicode issues in dynamic imports
import ITInnovationLab from './IT創新實驗室計劃.astro';
import KnowingMoreAboutIT from './奇趣IT識多啲計劃.astro';

// Component mapping
const componentMap = {
  'IT創新實驗室計劃.astro': ITInnovationLab,
  '奇趣IT識多啲計劃.astro': KnowingMoreAboutIT
};

export async function getStaticPaths() {
  return getStaticPathsForFolder('funding-application');
}

const { slug } = Astro.params;

// Get component info from global alias configuration
const componentInfo = getComponentForSlug('funding-application', slug);

if (!componentInfo) {
  throw new Error(`Unknown funding application slug: ${slug}`);
}

// Get the pre-imported component
const FundingComponent = componentMap[componentInfo.filename];

if (!FundingComponent) {
  throw new Error(`Component not found for filename: ${componentInfo.filename}`);
}
---

<FundingComponent />
