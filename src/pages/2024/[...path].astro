---
// Handle legacy WordPress-style URLs with date structure like /2024/04/15/...
// This is a catch-all for any 2024 dated URLs

// For static generation, we can't predict all possible paths, so we'll handle common ones
export async function getStaticPaths() {
  return [
    // Common redirects we know about
    { params: { path: '04/15/ai-art-competition-2024-ceremony-and-exhibition-recap' } },
    { params: { path: '04/15/ai-x-ceremony-and-exhibition' } },
    // Add the specific Chinese character path that's causing the 404
    { params: { path: '04/15/【ai-x-中華文化-x-視覺藝術】校際ai藝術創作大賽-2024《數' } }
  ];
}

const { path } = Astro.params;

// Check if this is the AI art competition article
if (path && (
  path.includes('ai-art-competition-2024') || 
  path.includes('ai-x') ||
  path.includes('04/15')
)) {
  // Use URL encoding to handle Chinese characters in redirect
  const encodedSlug = '2024-04-15-ai-x-%E4%B8%AD%E8%8F%AF%E6%96%87%E5%8C%96-x-%E8%A6%96%E8%A6%BA%E8%97%9D%E8%A1%93%E6%A0%A1%E9%9A%9Bai%E8%97%9D%E8%A1%93%E5%89%B5%E4%BD%9C%E5%A4%A7%E8%B3%BD-2024%E6%95%B8%E7%A2%BC%E8%A9%A0%E5%8F%A4%E5%AE%8C%E6%BB%BF%E8%90%BD%E5%B9%95';
  return Astro.redirect(`/news/${encodedSlug}`);
}

// Default redirect to news index for any other 2024 URLs
return Astro.redirect('/news');
---

<!-- This file should never render content as it only handles redirects -->