---
import { getStaticPathsForFolder, getComponentForSlug } from '../../utils/urlAliases.js';

// Dynamic route to handle English URLs while using Chinese-named components
export async function getStaticPaths() {
  return getStaticPathsForFolder('stemday');
}

const { slug } = Astro.params;

// Get the component filename for this slug
const componentInfo = getComponentForSlug('stemday', slug);

if (!componentInfo) {
  throw new Error(`Unknown slug: ${slug}`);
}

if (componentInfo.isRedirect) {
  return Astro.redirect(componentInfo.redirect);
}

// Import the Chinese-named component
let ChineseComponent: any;
const filename = componentInfo.filename as string;
switch (filename) {
  case '飲管橋.astro':
    // @ts-ignore
    ChineseComponent = await import('./飲管橋.astro');
    break;
  case 'DIY 手作.astro':
    // @ts-ignore
    ChineseComponent = await import('./DIY 手作.astro');
    break;
  case 'Matatalab 入門編程課程.astro':
    // @ts-ignore
    ChineseComponent = await import('./Matatalab 入門編程課程.astro');
    break;
  default:
    throw new Error(`Unknown component: ${filename}`);
}
---

<ChineseComponent.default /> 