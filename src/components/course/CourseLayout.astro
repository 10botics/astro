---
import Layout from '../../layouts/Layout.astro';
import CourseHero from './CourseHero.astro';
import CourseFeatureGrid from './CourseFeatureGrid.astro';
import CourseHighlights from './CourseHighlights.astro';
import CourseContent from './CourseContent.astro';
import ContactSection from '../ContactSection.astro';

export interface CourseData {
  // Basic info
  title: string;
  subtitle?: string;
  description: string;
  tags: string[];
  
  // Media
  videoId?: string;
  featuredImage?: string;
  heroImage?: string;
  
  // Optional sections
  featureGrid?: {
    title: string;
    features: Array<{
      image: string;
      title: string;
      description: string;
    }>;
  };
  
  highlights?: {
    title: string;
    items: string[];
    icon?: string;
  };
  
  curriculum?: {
    title: string;
    duration?: string;
    note?: string;
    items: Array<{
      title: string;
      content: string[];
    }>;
    images?: string[];
  };
}

export interface Props {
  courseData: CourseData;
}

const { courseData } = Astro.props;
---

<Layout title={courseData.title} description={courseData.description}>
  <!-- Hero Section - Always present -->
  <CourseHero
    title={courseData.title}
    subtitle={courseData.subtitle}
    tags={courseData.tags}
    videoId={courseData.videoId}
    description={courseData.description}
    featuredImage={courseData.featuredImage}
    heroImage={courseData.heroImage}
  />

  <!-- Feature Grid Section - Optional -->
  {courseData.featureGrid && (
    <CourseFeatureGrid
      sectionTitle={courseData.featureGrid.title}
      features={courseData.featureGrid.features}
    />
  )}

  <!-- Highlights Section - Optional -->
  {courseData.highlights && (
    <CourseHighlights
      title={courseData.highlights.title}
      highlights={courseData.highlights.items}
      icon={courseData.highlights.icon}
    />
  )}

  <!-- Curriculum Section - Optional -->
  {courseData.curriculum && (
    <CourseContent
      title={courseData.curriculum.title}
      duration={courseData.curriculum.duration}
      note={courseData.curriculum.note}
      curriculum={courseData.curriculum.items}
      images={courseData.curriculum.images}
    />
  )}

  <!-- Contact Form Section -->
  <ContactSection />
</Layout> 